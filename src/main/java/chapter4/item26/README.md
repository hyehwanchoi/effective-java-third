# 로 타입은 사용하지 말라

### 로 타입이란?
제네릭 타입에서 타입 매개 변수를 전혀 사용하지 않은 것

### 제네릭 타입이란?
클래스와 인터페이스 선언에 타입 매개변수가 쓰이면 제네릭 클래스 || 제네릭 인터페이스라 한다.
이를 통틀어 제네릭 타입이라 한다.
* 예시)  
  `private final Collection stamps = ...;`  
  `stamps.add(new Coin(...)); (런타임 오류)`

### 제네릭 타입 장점
* 컴파일 에러의 발생으로 사전에 오류를 확인할 수 있다.
  * 컴파일러가 잘 되었다면 절대 실패하지 않음을 보장
* 코드 자체로 명확하게 동작을 표현할 수 있다.
  * 주석 같은 역할
* 예시)  
  `private final Collection<Stamp> stamps = ...;`  
  `stamps.add(new Coin()); (컴파일 오류)`


### 실제 타입 매개변수가 무엇인지 신경 쓰고 싶지 않다면 비한정적 와일드카드 타입(제네릭<?>)을 사용하자
* 제네릭에서 매개변수화 타입은 불공변이라 하였다. 즉 서로 다른 타입 Type1과 Type2가 있을 때 `List<Type1>` 은 `List<Type2>` 의 하위 타입도 상위 타입도 아니다. 
* `List<String`>은 `List<Object>`의 하위 타입이 아니라는 뜻인데, 즉 `List<Object>`에는 어떤 객체든 넣을 수 있지만 `List<String>` 에는 문자열만 넣을 수 있다.
* 즉 `List<String>` 은 `List<Object>`가 하는 일을 제대로 수행하지 못하니 하위 타입이 될 수 없다.

### 로 타입 단점
* 컴파일 에러가 발생하지 않고 런타임 에러가 발생할 수 있다.
  * 안전하지 않다.
* 오류를 확인하기 어렵다.
  * "**컬렉션에서 이 동전을 다시 꺼내기 전에는 오류를 알아채지 못한다**"

### 로 타입 사용 예외
* class 리터럴에는 로 타입을 써야 한다.
  * 자바 명세는 class 매개변수화 타입을 사용하지 못하게 했다.
* instanceof 연산자는 비한정적 와일드카드 타입 이외의 매개변수화 타입에는 적용할 수 없다.
  * 예시
    `if(o instanceof Set) { Set<?> s = (<Set<?>) o; }` 
  
## 의견
무의식(?)적으로 제네릭을 사용해왔어서 이런 장점을 잊고 있었던 것 같다.  
항상 이유와 장,단점들을 생각하며 의문점을 가지고 코딩하는 것이 중요한 것 같다. 