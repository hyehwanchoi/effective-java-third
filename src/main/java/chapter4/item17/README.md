# 변경 가능성을 최소화하라

### 불변 클래스란 ?
그 인스턴스의 내부 값을 수정할 수 없는 클래스

### 불변 클래스의 장점
1. 가변 클래스보다 설계하고 구현하기가 쉽다.
2. 오류가 생길 여지가 적어서 안전하다.

### 불변 클래스 생성 규약
1. 객체의 상태를 변경하는 메서드를 제공하지 않는다.
2. 클래스를 확장할 수 없도록 한다.
   * 하위 클래스에서 부주의하게 혹은 나쁜 의도로 객체의 상태를 변하게 만드는 사태를 막아준다.
3. 모든 필드를 final 로 선언한다.
4. 모든 필드를 private 으로 선언한다.
   * 필드가 참조하는 가변 객체를 클라이언트에서 직접 접근해 수정하는 일을 막아준다.
5. 자신 외에는 내부의 가변 컴포넌트에 접근할 수 없도록 한다.
6. 모든 생성자를 private 또는 package-private 으로 만들고 public 정적 팩터리를 생성한다.
7. 변경할 수 있는 부분을 최소한으로 줄이자.

### 불변 객체 특징
1. 스레드 안전하여 따로 동기화할 필요 없다.
2. 그러므로 안전하게 공유할 수 있다.
3. 자유롭게 공유할 수 있고 불변 객체 끼리는 내부 데이터를 공유할 수 있다.
4. 장점 : 그 자체로 실패 원자성을 제공한다.
   * 메서드에서 예외가 발생한 후에도 그 객체는 여전히 유효한 상태.
5. 단점 : 값이 다르면 반드시 독립된 객체로 만들어야 한다.
   * 잠재적 성능 저하